<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Product Matrix</title>
<link rel="stylesheet" type="text/css"
	href="static/themes/default/easyui.css">
<script type="text/javascript" src="static/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="static/jquery.easyui.min.js"></script>
<script type="text/javascript">
	$(function() {
		$('#ptree').tree({
			onClick : function(node) {
				alert('you click ' + node.text);
			}
		});
		
		$('#dd').dialog('close');
		

		$('#addProductForm').form({  
		    success:function(data){
		    	var jsonobj = eval('('+data+')');
		    	
		    	
		    	if(jsonobj.isSuccess){
		    		$.messager.alert('Info', '添加产品成功', 'info'); 
		    		$('#ptree').tree('reload');
		    	}
		    	else {
		    		$.messager.alert('Info', '添加产品失败', 'info');  
		    	}
		    	$('#dd').dialog('close');
		    	
		    }  
		});  

	});

	function addProduct() {
		$('#dd').dialog('open');
	}
	
</script>
</head>
<body class="easyui-layout">
	<div data-options="region:'north',border:false"
		style="height: 60px; background: #B3DFDA; padding: 10px">
		<font size="6px"><b><i>Product Matrix</i></b></font>
	</div>
	<div data-options="region:'west',split:false,title:''"
		style="width: 210px; padding: 3px;">
		<!-- Left content -->
		<div class="easyui-panel" title="Dashboard" collapsible="true"
			style="width: 200px; height: auto; padding: 0px;">
			View as a slide show<br /> Order prints online<br /> Print pictures
		</div>
		<div class="easyui-panel" title="Products" collapsible="true"
			style="width: 200px; height: auto; padding: 0px;">
			<!-- Create Products tree -->
			<ul id="ptree" class="easyui-tree"
				url="product/product.json?action=listProducts">
			</ul>
			<!--  End product tree -->
		</div>
		<div class="easyui-panel" title="Systems" collapsible="true"
			collapsed="true" style="width: 200px; height: auto; padding: 10px;">
			New York<br /> My Pictures<br /> My Computer<br /> My Network
			Places
		</div>
		<!-- end of left content -->
	</div>
	<!--  Copy right info @ bottom area -->
	<div data-options="region:'south',border:false"
		style="height: 20px; background: #A9FACD; padding: 2px;">
		<center>@Copyright Product matrix org since 2013</center>
	</div>
	<div data-options="region:'center',title:''">
		<div
			style="padding: 5px; background: #fafafa; width: 1056px; border: 1px solid #ccc">
			<a href="#" class="easyui-linkbutton" onclick="addProduct();">Add
				Product</a>
		</div>
		<div class="easyui-tabs" style="width:1065px;height:100px;">  
    <div title="版本列表" style="padding:3px;">  
        First Tab  
    </div>  
    <div title="产品矩阵" closable="false" style="padding:3px;">  
        Second Tab  
    </div>  
</div>  
	</div>

	<div id="dd" class="easyui-dialog"
		style="padding: 5px; width: 400px; height: 200px;" title="Add Product"
		iconCls="icon-ok">
		<form id="addProductForm" action="product/product.json?action=addProduct" method="post">
			<table>
				<tr>
					<td>Product Name:</td>
					<td><input name="pName" type="text"></input></td>
				</tr>
				<tr>
					<td>Product Description:</td>
					<td><input name="pDesc" type="textarea"></input></td>
				</tr>
				<tr>
					<td><input type="submit" value="Submit"></input></td>
				</tr>
			</table>
		</form>
	</div>

</body>
</html>